<section class="container">
  <div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h3 class="card-title">Lista de Pacientes</h3>
      <button type="button" class="btn btn-primary" (click)="goToCreate()">
        A&ntilde;adir un nuevo paciente
      </button>
    </div>
    <!-- /.card-header -->
    <div class="card-body">
      <table id="example1" class="table table-bordered table-striped">
        <thead>
          <tr>
            <th class="center-text">ID</th>
            <th class="center-text">Nombre</th>
            <th class="center-text">DNI</th>
            <th class="center-text">Cumplea&ntilde;os</th>
            <th class="center-text">Tel&eacute;fono</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let group of chunkArray(pacientes, itemsPerPage); let i = index">
            <ng-container *ngIf="currentPage === i">
              <tr *ngFor="let paciente of group">
                <th class="center-text">{{ paciente.id }}</th>
                <th class="center-text">{{ paciente.name }}</th>
                <th class="center-text">{{ paciente.dni }}</th>
                <th class="center-text">{{ paciente.birthdate }}</th>
                <th class="center-text">{{ paciente.phone }}</th>
                <th>
                  <button class="btn btn-primary" (click)="updatePaciente(paciente.id)">Editar</button>
                </th>
              </tr>
            </ng-container>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>
  <nav aria-label="Page navigation example" class="flex-column text-end">
    <ul class="pagination">
      <li class="page-item" [class.disabled]="currentPage === 0">
        <a class="page-link" (click)="prevPage($event)">Previous</a>
      </li>
      <li class="page-item" *ngFor="let page of [].constructor(totalPages); let pageIndex = index" [class.active]="currentPage === pageIndex">
        <a class="page-link" (click)="setPage($event, pageIndex)">{{ pageIndex + 1 }}</a>
      </li>
      <li class="page-item" [class.disabled]="currentPage === totalPages - 1">
        <a class="page-link" (click)="nextPage($event)">Next</a>
      </li>
    </ul>
  </nav>
</section>
