

<app-admin-sidebar></app-admin-sidebar>

<nav class="navbar navbar-expand-lg navbar-light bg-light " aria-label="Eighth navbar example">
  <div class="container container-bots" >
    

    <div class=" navbar" id="navbarsExample07">
      <div class="navbar-nav me-auto mb-2 mb-lg-0" style="margin-left: 3rem; gap: 2rem;">
        
        <div class="nav-item">
          <select name="filtros" (change)="seleccionarAccion($event)" placeholder="Seleccionar opcion">
              <option value="">Ordenar por</option>
              <option value="ordenar_provincia">Ordenar Provincia</option>
              <option value="ordenar_nombre">Ordenar Por Nombre</option>
              <!--<option value="ordenar_disponibles">Ordenar Disponibles</option>
              <option value="ordenar_id">Ordenar id</option>-->
              <option value="buscar_disponibles">Buscar Disponibles</option>
            </select>
      
              
              </div>
              


              <div class="nav-item">
                <select name="filtros" (change)="provinciasAll($event)">
                  @for(provincia of provincias; track provincia.id){
                    <option value={{provincia.id}}>{{provincia.name}}</option>
                  }
                </select>
            </div>
        <div class="nav-item">
          <form (ngSubmit)="burcador_nombre()">
            <div style="display: flex; justify-content: center; align-items: center;">
              <input type="text" id="name" name="name" [(ngModel)]="nombre" placeholder="Buscar por nombre">
            <button style="margin-top: 0;" type="submit">Enviar</button>
            </div>
            <!-- <label for="texto">Buscar</label> -->
            
          </form>
        
        </div>
        <div class="nav-item">
          <button (click)="limpiar_filtros()">Limpiar Filtros</button>

        </div>
        
      </div>
      
    </div>
    <div class="nav-item">
      <button type="button" class="btn btn-primary" (click)="goToCreate()">Crear Clinica</button>
    </div>
  </div>      
</nav>


<section class="container">
  
  <div class="card">
    <div class="card-header">
      <h3 class="card-title">Lista de Clínicas</h3>
    </div>
    <div class="card-body">
      <table id="example1" class="table table-bordered table-striped">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Código Postal</th>
            <th>Teléfono</th>
            <th>Provincia</th>
            <th>Estado</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let group of chunkArray(hospital, itemsPerPage); let i = index">
            <ng-container *ngIf="currentPage === i">
              <tr *ngFor="let hospital of group">
                <th>{{ hospital.id }}</th>
                <th>{{ hospital.name }}</th>
                <th>{{ hospital.pc }}</th>
                <th>{{ hospital.phone }}</th>
                <th>{{ hospital.province.name }}</th>
                <th>{{ hospital.onDutty }}</th>
                <th>
                  <button class="btn btn-success" (click)="updateHospital(hospital.id)">Editar</button>
                  <button class="btn btn-danger" (click)="suspenderHospital()">Suspender</button>
                </th>
              </tr>
            </ng-container>
          </ng-container>
        </tbody>
      </table>
      <nav aria-label="Page navigation example" class="flex-column text-end">
        <ul class="pagination">
          <li class="page-item" [class.disabled]="currentPage === 0">
            <a class="page-link" (click)="prevPage()">Anterior</a>
          </li>
          <li class="page-item" *ngFor="let page of [].constructor(totalPages); let pageIndex = index" [class.active]="currentPage === pageIndex">
            <a class="page-link" (click)="setPage(pageIndex)">{{ pageIndex + 1 }}</a>
          </li>
          <li class="page-item" [class.disabled]="currentPage === totalPages - 1">
            <a class="page-link" (click)="nextPage()">Siguiente</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</section>





<!-- <nav aria-label="Page navigation example" class="flex-column text-end">
  <ul class="pagination">
    <li class="page-item"><a class="page-link" href="#">Previous</a></li>
    <li class="page-item"><a class="page-link" href="#">1</a></li>
    <li class="page-item"><a class="page-link" href="#">2</a></li>
    <li class="page-item"><a class="page-link" href="#">3</a></li>
    <li class="page-item"><a class="page-link" href="#">Next</a></li>
  </ul>
</nav> -->