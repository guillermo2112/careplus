<section class="contenedorGrande">
    <div class="form-wrapper">
        <h3>A&ntilde;adir Paciente</h3>
        <form (ngSubmit)="onSubmit()" class="form-content">
        
            <div class="form-group">
                <label for="username">Correo:</label>
                <input type="email" name="username" id="username"  [(ngModel)]="usuario.username" required #username="ngModel"  class="form-control">
                @if (username.invalid && (username.dirty || username.touched)) {
                    @if (username.errors?.['required']) {}
                    <div class="alert alert-danger">El correo es requerido</div>
                }
            </div>

            <div class="form-group">
                <label for="password">Contraseña:</label>
                <input type="password" name="password" id="password"  [(ngModel)]="usuario.password"  class="form-control">
            </div>

            <div class="form-group">
                <label for="confirm_password">Confirmar Contrase&ntilde;a:</label>
                <input type="password" id="confirm_password" name="confirm_password" [(ngModel)]="confirm_password"  class="form-control">
               
            </div>

            <div class="form-group">
                <label for="name">Nombre:</label>
                <input type="text" name="name" id="name" [(ngModel)]="paciente.name" required #name="ngModel" class="form-control">
                @if (name.invalid && (name.dirty || name.touched)) {
                    @if (name.errors?.['required']) {}
                    <div class="alert alert-danger">El nombre es requerida</div>
                }
            </div>

            <div class="form-group">
                <label for="dni">DNI:</label>
                <input type="text" name="dni" id="dni" [(ngModel)]="paciente.dni" pattern="^([0-9]{8}[A-Z]{1})" required #dni="ngModel" class="form-control">
                @if (dni.invalid && (dni.dirty || dni.touched)) {
                    @if (dni.errors?.['required']) {}
                    <div class="alert alert-danger">El DNI es requerida</div>
                }
            </div>

            <div class="form-group">
                <label for="birthdate">Fecha de Nacimiento:</label>
                <input type="date" name="birthdate" id="birthdate" [(ngModel)]="paciente.birthdate" pattern="^(?:\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[1-2]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[1-2]\d|30)|02-(?:0[1-9]|1\d|2[0-8]))|(?:\d{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)" required #birthdate="ngModel" class="form-control">
                @if (birthdate.invalid && (birthdate.dirty || birthdate.touched)) {
                    @if (birthdate.errors?.['required']) {}
                    <div class="alert alert-danger">La fecha de nacimiento es requerida</div>
                }
            </div>

            <div class="form-group">
                <label for="address">Dirección:</label>
                <input type="text" name="address" id="address" [(ngModel)]="paciente.address" class="form-control">
            </div>

            <div class="form-group">
                <label for="phone">Teléfono:</label>
                <input type="text" name="phone" id="phone" [(ngModel)]="paciente.phone" pattern="^[0-9]{9}" class="form-control">
            </div>

            <div class="form-group">
                <label for="emergency_phone">Teléfono de Emergencia:</label>
                <input type="text" name="emergency_phone" id="emergency_phone" [(ngModel)]="paciente.emergency_phone" pattern="^[0-9]{9}" class="form-control">
            </div>
            
            <button type="submit" class="btn">Enviar</button>
        </form>
    </div>
</section>
